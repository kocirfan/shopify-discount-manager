query Input {
  cart {
    lines {
      id
      quantity
      merchandise {
        __typename
        ... on ProductVariant {
          id
        }
      }
    }
    cost {
      subtotalAmount {
        amount
      }
    }
    deliveryGroups {
      id
      selectedDeliveryOption {
        handle
        title
        cost {
          amount
        }
      }
      deliveryOptions {
        handle
        title
        cost {
          amount
        }
      }
    }
    attribute(key: "_selected_delivery_type") {
      value
    }
    buyerIdentity {
      customer {
        id
      }
      email
    }
  }
  shop {
    deliveryDiscountSettings: metafield(
      namespace: "delivery_discount"
      key: "settings"
    ) {
      value
    }
  }
}