query Input {
  cart {
    cost {
      subtotalAmount {
        amount
      }
    }
    deliveryGroups {
      id
      selectedDeliveryOption {
        handle
        title
        cost {
          amount
        }
      }
    }
    attribute(key: "selected_delivery_type") {
      value
    }
    buyerIdentity {
      customer {
        id
        hasTags(tags: ["disc-5", "disc-10", "disc-15", "disc-20", "disc-25", "disc-30"]) {
          hasTag
          tag
        }
      }
      email
    }
  }
  shop {
    deliveryDiscountSettings: metafield(
      namespace: "delivery_discount"
      key: "settings"
    ) {
      value
    }
    customerTagDiscountRules: metafield(
      namespace: "customer_discount"
      key: "tag_rules"
    ) {
      value
    }
  }
}
